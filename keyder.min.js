function getWindowSize(){var e,t;return"undefined"!=typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),{width:e,height:t}}function onetime(e,t,n){e.addEventListener(t,function(e){if(e||(e=window.event),"keydown"===e.type||"keyup"===e.type||"keypress"===e.type){var t=e.which||e.keyCode;e.keyCode=t,e.keyName=Keyder().keycodes[t]}return e.currentEvent=e.type,e.target.removeEventListener(e.type,arguments.callee),n(e)})}document.ready=function(e){function t(){document.ready(e)}/in/.test(document.readyState)?setTimeout(t,9):e()},String.prototype.startsWith=function(e){return this.length<64?this.slice(0,e.length)==e:0===this.lastIndexOf(e,0)},String.prototype.endsWith=function(e){return this.length<64?this.slice(this.length-e.length,this.length)==e:this.indexOf(e,this.length-e.length)===this.length-e.length};var Keyder=function(e){if("string"==typeof e)var e=document.getElementById(e);else if("object"==typeof e)var e=e;else var e=document;return{registerEvent:function(e,t,n){document.addEventListener?e.addEventListener(t,n,!1):document.attachEvent&&e.attachEvent("on"+t,n)},unregisterEvent:function(e,t,n){n="function"==typeof n?n:function(){},document.removeEventListener?e.removeEventListener(t,n,!1):document.detachEvent&&e.detachEvent("on"+t,n)},keycodes:{8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"caps_lock",27:"esc",32:"space",33:"page_up",34:"page_down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",44:"print_screen",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"num_lock",187:"equal",189:"dash",191:"forward_slash",220:"back_slash",190:"dot",188:"comma"},getKeyCodeFromName:function(e){if("string"==typeof e)for(var t in this.keycodes)if(this.keycodes[t].toLowerCase()===e.toLowerCase())return t},keydown:function(t,n,i){var o=this;if(s=null,"string"==typeof t){for(var r in this.keycodes)if(this.keycodes[r].toLowerCase()===t.toLowerCase())var s=r}else{if("number"!=typeof t){if("function"==typeof t){var c=this;return this.registerEvent(e,"keydown",function(e){e||(e=window.event),keyCode=e.which||e.keyCode,e.keyCode=keyCode,c.lastKeyCode=keyCode,c.lastKey=c.keycodes[parseInt(keyCode)],t.call(o,e)}),!0}return!1}s=t}if("undefined"==typeof s||"function"!=typeof n||"object"==typeof t||i){if("undefined"!=typeof s&&"function"==typeof n&&"object"!=typeof t&&i){if(/any/g.test(t)){if("any"===t){var c=this,u=!0;this.registerEvent(e,"keydown",function(e){return u?(e||(e=window.event),keyCode=e.which||e.keyCode,e.keyCode=keyCode,e.keyName=o.keycodes[keyCode],c.lastKey=c.keycodes[parseInt(keyCode)],c.lastKeyCode=keyCode,void n.call(o,e)):!1}),this.registerEvent(e,"keyup",function(){u=!0}),this.registerEvent(e,"focus",function(){u=!0})}}else{var c=this,u=!0;this.registerEvent(e,"keydown",function(e){return u?(u=!1,e||(e=window.event),keyCode=e.which||e.keyCode,e.keyCode=keyCode,void(keyCode===parseInt(s)&&(c.lastKey=c.keycodes[parseInt(s)],c.lastKeyCode=keyCode,n.call(o,e)))):!1}),this.registerEvent(e,"keyup",function(){u=!0})}return this}return!1}if(/any/g.test(t)){if("any"===t){var c=this;this.registerEvent(e,"keydown",function(e){e||(e=window.event),keyCode=e.which||e.keyCode,e.keyCode=keyCode,e.keyName=o.keycodes[keyCode],c.lastKey=c.keycodes[parseInt(keyCode)],c.lastKeyCode=keyCode,n.call(o,e)})}}else{var c=this;this.registerEvent(e,"keydown",function(e){e||(e=window.event),keyCode=e.which||e.keyCode,e.keyCode=keyCode,keyCode===parseInt(s)&&(c.lastKey=c.keycodes[parseInt(s)],c.lastKeyCode=keyCode,n.call(o,e))})}return this},keyup:function(t,n){var i=this;if(r=null,"string"==typeof t){for(var o in this.keycodes)if(this.keycodes[o].toLowerCase()===t.toLowerCase())var r=o}else{if("number"!=typeof t){if("function"==typeof t){var s=this;return this.registerEvent(e,"keyup",function(e){e||(e=window.event),keyCode=e.which||e.keyCode,e.keyCode=keyCode,s.lastKeyCode=keyCode,s.lastKey=s.keycodes[parseInt(keyCode)],t.call(i,e)}),!0}return!1}r=t}if("undefined"==typeof r||"function"!=typeof n||"object"==typeof t)return!1;if(/any/g.test(t)){if("any"===t){var s=this;this.registerEvent(e,"keyup",function(e){e||(e=window.event),keyCode=e.which||e.keyCode,e.keyCode=keyCode,s.lastKey=s.keycodes[parseInt(keyCode)],s.lastKeyCode=keyCode,n.call(i,e)})}}else{var s=this;this.registerEvent(e,"keyup",function(e){e||(e=window.event),keyCode=e.which||e.keyCode,e.keyCode=keyCode,keyCode===parseInt(r)&&(s.lastKey=s.keycodes[parseInt(r)],s.lastKeyCode=keyCode,n.call(i,e))})}return this},click:function(t,n){var i=this;return"function"==typeof t&&this.registerEvent(e,"mousedown",function(e){e||(e=window.event),t.call(i,e)}),"function"==typeof n&&this.registerEvent(e,"mouseup",function(e){e||(e=window.event),n.call(i,e)}),this},blur:function(t){var n=this;return"function"==typeof t&&this.registerEvent(e,"blur",function(e){e||(e=window.event),t.call(n,e)}),this},focus:function(t){var n=this;return"function"==typeof t&&this.registerEvent(e,"focus",function(e){e||(e=window.event),t.call(n,e)}),this},touchstart:function(t){var n=this;"function"==typeof t&&this.registerEvent(e,"touchstart",function(e){e||(e=window.event),t.call(n,e)})},touchend:function(t){var n=this;return"function"==typeof t&&this.registerEvent(e,"touchend",function(e){e||(e=window.event),t.call(n,e)}),this},touchmove:function(t){var n=this;return"function"==typeof t&&this.registerEvent(e,"touchmove",function(e){e||(e=window.event),t.call(n,e)}),this},touchcancel:function(t){var n=this;return"function"==typeof t&&this.registerEvent(e,"touchcancel",function(e){e||(e=window.event),t.call(n,e)}),this},touchleave:function(t){var n=this;return"function"==typeof t&&this.registerEvent(e,"touchleave",function(e){e||(e=window.event),t.call(n,e)}),this},on:function(t,n){var i=this;if("string"==typeof t&&"function"==typeof n)if(/\s/g.test(t)){t=t.replace(/(\s+)/g," ");var o=t.split(" ");for(var r in o)o[r].startsWith("on")&&(o[r]=o[r].substring(2)),this.registerEvent(e,o[r],function(e){if(e||(e=window.event),"keydown"===e.type||"keyup"===e.type||"keypress"===e.type){var t=e.which||e.keyCode;e.keyCode=t,e.keyName=i.keycodes[t]}e.currentEvent=e.type,n.call(i,e)})}else this.registerEvent(e,t,function(e){if(e||(e=window.event),"keydown"===e.type||"keyup"===e.type||"keypress"===e.type){var t=e.which||e.keyCode;e.keyCode=t,e.keyName=i.keycodes[t]}e.currentEvent=e.type,n.call(i,e)});return this},off:function(t){return"string"==typeof t&&this.unregisterEvent(e,t),this},one:function(t,n){return"string"==typeof t&&"function"==typeof n&&onetime(e,t,n),this},bind:function(e,t){return this.on(e,t),this},readystatechange:function(){return this.registerEvent(e,"readystatechange",function(e){e||(e=window.event),callback.call(self,e)}),this},change:function(t){var n=this;return"function"==typeof t&&this.registerEvent(e,"change",function(e){e||(e=window.event),t.call(n,e)}),this},rightclick:function(t,n){var i=this;return"function"==typeof t&&this.registerEvent(e,"mousedown",function(e){e||(e=window.event);var n=e.which||(1&e.button?1:2&e.button?3:4&e.button?2:0);3===n&&t.call(i,e)}),"function"==typeof n&&this.registerEvent(e,"mouseup",function(e){e||(e=window.event);var t=e.which||(1&e.button?1:2&e.button?3:4&e.button?2:0);3===t&&n.call(i,e)}),this},contextmenu:function(t){var n=this,i=document.createElement("div");return i.oncontextmenu=function(){},"function"==typeof i.oncontextmenu?this.registerEvent(e,"contextmenu",function(e){e||(e=window.event),t.call(n,e)}):this.rightClick(t),this},doubleclick:function(t){if("function"==typeof t){var n=this;this.registerEvent(e,"dblclick",function(e){e||(e=window.event),t.call(n,e)})}return this},singledoubleclick:function(e,t,n){var i=0,o=this;return this.click(function(r){i++,1==i&&setTimeout(function(){1==i?e.call(o,r):t.call(o,r),i=0},n||300)}),this},trigger:function(t){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}else e.fireEvent("on"+t);return this},mousewheel:function(t){var n=this,i=document.createElement("div");return i.onmousewheel=function(){},"function"==typeof i.onmousewheel?this.registerEvent(e,"mousewheel",function(e){e||(e=window.event),t.call(n,e)}):this.registerEvent(e,"DOMMouseScroll",function(e){e||(e=window.event),t.call(n,e)}),this},scroll:function(t){var n=this;this.registerEvent(e,"scroll",function(i){i||(i=window.event),i.scrollTop=e.scrollTop,t.call(n,i)})},focusin:function(t){var n=this;return this.registerEvent(e,"focusin",function(e){e||(e=window.event),t.call(n,e)}),this},focusout:function(t){var n=this;return this.registerEvent(e,"focusout",function(e){e||(e=window.event),t.call(n,e)}),this},mouseover:function(t){var n=this;return this.registerEvent(e,"mouseover",function(e){e||(e=window.event),t.call(n,e)}),this},mouseenter:function(t){var n=this;return this.registerEvent(e,"mouseover",function(e){e||(e=window.event),t.call(n,e)}),this},mouseleave:function(t){var n=this;return this.registerEvent(e,"mouseover",function(e){e||(e=window.event),t.call(n,e)}),this},mouseout:function(t){var n=this;return this.registerEvent(e,"mouseover",function(e){e||(e=window.event),t.call(n,e)}),this},mousedown:function(t){var n=this;return this.registerEvent(e,"mousedown",function(e){e||(e=window.event),t.call(n,e)}),this},mouseup:function(t){var n=this;return this.registerEvent(e,"mouseup",function(e){e||(e=window.event),t.call(n,e)}),this},hover:function(t,n){var i=this;return"function"==typeof t&&this.registerEvent(e,"mouseenter",function(e){e||(e=window.event),t.call(i,e)}),"function"==typeof n&&this.registerEvent(e,"mouseleave",function(e){e||(e=window.event),n.call(i,e)}),this},resize:function(t){var n=this;return"function"==typeof t&&e===window&&this.registerEvent(e,"resize",function(e){e||(e=window.event),e.windowWidth=getWindowSize().width,e.windowHeight=getWindowSize().height,t.call(n,e)}),this}}};
